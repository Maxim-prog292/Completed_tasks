<!DOCTYPE html>
<html>
<head>
	<title>Задача 14</title>
</head>
<body>
	<h1>Сравнение открытых OLAP-систем
	Big Data: ClickHouse, Druid и Pinot</h1>

	<p>Оригинал - https://medium.com/@leventov/comparison-of-the-open-source-olap-systems-
	for-big-data-clickhouse-druid-and-pinot-8e042a5ed1c7</p>

	<p>
		<a href="#">ClickHouse</a>, <a href="#">Druid</a> и <a href="#">Pinot</a> – три открытых хранилища данных, которые позволяют
		выполнять аналитические запросы на больших объемах данных с интерактивными
		задержками. Эта статья - перевод <a href="#">подробного сравнения</a>, выполненного Романом
		Левентовым.
	</p>

	<h3>Источники информации</h3>
	<p>
		Подробности реализации <b>ClickHouse</b> стали мне известны от Алексея Зателепина,
		одного из <b>ключевых разработчиков проекта</b>. Доступная на английском
		документация достаточно скудна – наилучшим источником информации служат
		последние четыре секции <a href="">данной страницы документации</a>.
	</p>

	<p>
		<b>Я сам участвую в развитии Druid</b>, но у меня нет личной заинтересованности в этой
		системе - по правде говоря, скорее всего в ближайшее время я перестану заниматься
		её разработкой. Поэтому читатели могут рассчитывать на отсутствие какой-либо
		предвзятости.
	</p>

	<p>
		<b>Всё</b>, что я буду далее писать про <b>Pinot</b>, основывается на странице <a>Архитектура в вики
		Pinot</a>, а также на других страницах вики в разделе “Проектная документация”.
		Последний раз они обновлялись в июне 2017 года - больше, чем полгода назад.
	</p>

	<p>
		Рецензентами оригинальной статьи стали Алексей Зателепин и <a href="#">Виталий Людвиченко</a>
		(разработчики ClickHouse), <a>Жан Мерлино</a> (самый активный разработчик Druid), <a>Кишор Гопалакришна</a> (архитектор Pinot) и <a>Жан-Француа Им</a> (разработчик Pinot). Мы
		присоединяемся к благодарности автора и полагаем, что это многократно повышает
		авторитетность статьи.
	</p>

	<p>
		<b>Предупреждение</b>: статья достаточно большая, поэтому вполне возможно вы захотите
		ограничиться прочтением раздела “Заключение” в конце.
	</p>

	<h2>Сходства между системами</h2>
	<h3>Связанные данные и вычисления</h3>

	<p>
		<b>На фундаментальном уровне, ClickHouse, Druid и Pinot похожи</b>, поскольку они
		хранят данные и выполняют обработку запросов на одних и тех же узлах, уходя от
		“разъединенной” архитектуры BigQuery. Недавно я уже описывал несколько
		наследственных проблем со связанной архитектурой в случае Druid [<a href="#">1</a>, <a href="#">2</a>]. Открытого эквивалента для BigQuery на данный момент не существует (за исключением, разве что, <a href="#">Drill</a>?) Возможным подходам к построению подобных открытых систем посвящена <a href="#">другая статья в моем блоге</a>
	</p>

	<h3>Отличия от Big Data SQL-систем: индексы и статическое распределение данных</h3>

	<p>
		Рассматриваемые в этой статье системы <b>выполняют запросы быстрее</b>, чем
		системы Big Data из семейства класса SQL-on-Hadoop: Hive, Impala, Presto и Spark, даже когда последние получают доступ к данным, хранящимся в колоночном формате - к примеру, Parquet или Kudu. Это происходит потому, что в ClickHouse, Druid и Pinot:
	</p>
	<ul>
		<li>Имеется <b>свой собственный формат для хранения данных с индексами</b>, и
		они тесно интегрированы с движками обработки запросов. Системы класса
		SQL-on-Hadoop обычно можно назвать агностиками относительно форматов
		данных и поэтому они менее “навязчивы” в бэкендах Big Data.</li>
		<li><b>Данные распределены относительно “статично”</b> между узлами, и при
		распределенном выполнении запроса это можно использовать. Обратная
		сторона медали при этом в том, что ClickHouse, Druid и Pinot <b>не поддерживают
		запросы, которые требуют перемещения большого количества данных</b>
		между узлами - к примеру, join между двумя большими таблицами.</li>
	</ul>

	<table border="1" >
		<tr>
			<th>ClickHouse</th>
			<th>Druid или Pinot</th>
		</tr>
		<tr>
			<td>В организации есть эксперты по C++</td>
			<td>В организации есть эксперты по Java</td>
		</tr>
		<tr>
			<td>Малый кластер</td>
			<td>Большой кластер</td>
		</tr>
		<tr>
			<td>Немного таблиц</td>
			<td>Много таблиц</td>
		</tr>
		<tr>
			<td>Один набор данных</td>
			<td>Несколько несвязанных наборов данных</td>
		</tr>
		<tr>
			<td>Таблицы и данные находятся в кластере
перманентно</td>
			<td>Таблицы и наборы данных периодически
появляются в кластере и удаляются из
него</td>
		</tr>
		<tr>
			<td>Размер таблиц (и интенсивность
запросов к ним) остается стабильным во
времени</td>
			<td>Таблицы значительно растут и
сжимаются</td>
		</tr>
		<tr>
			<td>Однородные запросы (их тип, размер,
распределение по времени суток и т.д.)</td>
			<td>Разнородные запросы</td>
		</tr>
	</table>

	<mark>Если вы уже сталкивались с необходимостью сравнения этих систем и сделали
свой выбор, то приходите на одну из наших конференций и расскажите о своем
кейсе: о том какие именно были задачи и какие грабли (а наверняка они были) вы
встретили. Хотя, конечно, базы данных далеко не единственная тема.
Ближайший по окончанию срока подачи заявок (до 9 апреля) фестиваль РИТ++
включает направления: фронтенд, бэкенд, эксплуатацию и управление.
Участникам обычно интереснее всего узнать о конкретных примерах, но и
выступления и в виде обзоров и исследований тоже возможны – главное, чтобы
тема была интересна лично вам.</mark>

</body>
</html>